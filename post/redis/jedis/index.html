<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">


<title>redis之java客户端 - fyzn12</title>

<meta name="description" content="1 jedis的简单介绍 1.1 Jedis是什么 直观来说，jedis就是redis-cli   1.2 引入jedis的依赖包 &amp;lt;!-- 引入jedis的依赖包 --&amp;gt; &amp;lt;dependency&amp;gt; &amp;lt;groupId&amp;gt;redis.clients&amp;lt;/groupId&amp;gt; &amp;lt;artifactId&amp;gt;jedis&amp;lt;/artifactId&amp;gt; &amp;lt;version&amp;gt;2.9.3&amp;lt;/version&amp;gt; &amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt; &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt; &amp;lt;/dependency&amp;gt;  1.3 jedis直连  生成一个Jedis对象，这个对象负责和指定Redis节点进行通信
Jedis jedis = new Jedis(&amp;ldquo;127.0.0.1&amp;rdquo;,6379);
 jedis执行set操作
jedis.set(&amp;ldquo;hello&amp;rdquo;,&amp;ldquo;world&amp;rdquo;);
 jedis执行get操作，value=&amp;ldquo;world&amp;rdquo;
String value = jedis.get(&amp;ldquo;hello&amp;rdquo;);
   Jedis构造函数的简单介绍 Jedis构造方法的参数 Jedis(String host,int port,int connectionTimeout,int soTimeout); host:Redis节点的所在机器的IP； port：Redis节点的端口； connectionTimeout：客户端连接超时； soTimeout：客户端读写超时；  1.4 Jedis直连和连接池的对比  2 redis的具体实现 2.1 慢查询  生命周期
 三个命令
 两个配置
 运维经验
  2." /><meta name="keywords"
  content="fyzn12, java, 网络安全, 红蓝攻防" />


<link rel="stylesheet" href="https://fyzn12.github.io/css/main.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.12/src/css/lightgallery.css">



<meta property="og:title" content="redis之java客户端" />
<meta property="og:description" content="1 jedis的简单介绍 1.1 Jedis是什么 直观来说，jedis就是redis-cli   1.2 引入jedis的依赖包 &lt;!-- 引入jedis的依赖包 --&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.3&lt;/version&gt; &lt;type&gt;jar&lt;/type&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt;  1.3 jedis直连  生成一个Jedis对象，这个对象负责和指定Redis节点进行通信
Jedis jedis = new Jedis(&ldquo;127.0.0.1&rdquo;,6379);
 jedis执行set操作
jedis.set(&ldquo;hello&rdquo;,&ldquo;world&rdquo;);
 jedis执行get操作，value=&ldquo;world&rdquo;
String value = jedis.get(&ldquo;hello&rdquo;);
   Jedis构造函数的简单介绍 Jedis构造方法的参数 Jedis(String host,int port,int connectionTimeout,int soTimeout); host:Redis节点的所在机器的IP； port：Redis节点的端口； connectionTimeout：客户端连接超时； soTimeout：客户端读写超时；  1.4 Jedis直连和连接池的对比  2 redis的具体实现 2.1 慢查询  生命周期
 三个命令
 两个配置
 运维经验
  2." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://fyzn12.github.io/post/redis/jedis/" />
<meta property="article:published_time" content="2020-07-08T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-07-08T00:00:00+00:00" />
<meta itemprop="name" content="redis之java客户端">
<meta itemprop="description" content="1 jedis的简单介绍 1.1 Jedis是什么 直观来说，jedis就是redis-cli   1.2 引入jedis的依赖包 &lt;!-- 引入jedis的依赖包 --&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.3&lt;/version&gt; &lt;type&gt;jar&lt;/type&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt;  1.3 jedis直连  生成一个Jedis对象，这个对象负责和指定Redis节点进行通信
Jedis jedis = new Jedis(&ldquo;127.0.0.1&rdquo;,6379);
 jedis执行set操作
jedis.set(&ldquo;hello&rdquo;,&ldquo;world&rdquo;);
 jedis执行get操作，value=&ldquo;world&rdquo;
String value = jedis.get(&ldquo;hello&rdquo;);
   Jedis构造函数的简单介绍 Jedis构造方法的参数 Jedis(String host,int port,int connectionTimeout,int soTimeout); host:Redis节点的所在机器的IP； port：Redis节点的端口； connectionTimeout：客户端连接超时； soTimeout：客户端读写超时；  1.4 Jedis直连和连接池的对比  2 redis的具体实现 2.1 慢查询  生命周期
 三个命令
 两个配置
 运维经验
  2.">


<meta itemprop="datePublished" content="2020-07-08T00:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2020-07-08T00:00:00&#43;00:00" />
<meta itemprop="wordCount" content="448">



<meta itemprop="keywords" content="Jedis," />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="redis之java客户端"/>
<meta name="twitter:description" content="1 jedis的简单介绍 1.1 Jedis是什么 直观来说，jedis就是redis-cli   1.2 引入jedis的依赖包 &lt;!-- 引入jedis的依赖包 --&gt; &lt;dependency&gt; &lt;groupId&gt;redis.clients&lt;/groupId&gt; &lt;artifactId&gt;jedis&lt;/artifactId&gt; &lt;version&gt;2.9.3&lt;/version&gt; &lt;type&gt;jar&lt;/type&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt;  1.3 jedis直连  生成一个Jedis对象，这个对象负责和指定Redis节点进行通信
Jedis jedis = new Jedis(&ldquo;127.0.0.1&rdquo;,6379);
 jedis执行set操作
jedis.set(&ldquo;hello&rdquo;,&ldquo;world&rdquo;);
 jedis执行get操作，value=&ldquo;world&rdquo;
String value = jedis.get(&ldquo;hello&rdquo;);
   Jedis构造函数的简单介绍 Jedis构造方法的参数 Jedis(String host,int port,int connectionTimeout,int soTimeout); host:Redis节点的所在机器的IP； port：Redis节点的端口； connectionTimeout：客户端连接超时； soTimeout：客户端读写超时；  1.4 Jedis直连和连接池的对比  2 redis的具体实现 2.1 慢查询  生命周期
 三个命令
 两个配置
 运维经验
  2."/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->
</head>

<body>
    <div class="header-placeholder"></div>
    
    <header class="header">
        <div class="wrapper">
    <div id="sidebar-toggle">TOC</div>
    
    <a class="site-title" href="https://fyzn12.github.io/">fyzn12</a>
    
    <nav class="site-nav">
        <a class="page-link" href="/">Home</a><a class="page-link" href="/post/">Category</a><a class="page-link" href="/about">About</a>
    </nav>
</div>

    </header>

    
    <div class="page-content">
        <div class="wrapper">
            
            <div class="col-main">
                <div class="post">
    
    <header class="post-header">
        <h1 class="post-title">Redis之java客户端</h1>
        <p class="post-meta">Jul 08, 2020</p>
    </header>
    <article class="post-content">
        
        
        
        
        
        
        

<h1 id="1-jedis的简单介绍">1 jedis的简单介绍</h1>

<h2 id="1-1-jedis是什么">1.1 Jedis是什么</h2>
<div class="highlight"><pre class="chroma">    直观来说，jedis就是redis-cli    </pre></div>
<div align=center><img src="https://fyzn12.github.io/img/picture/jedis-info.png"/></div>  
  

<h2 id="1-2-引入jedis的依赖包">1.2 引入jedis的依赖包</h2>
<div class="highlight"><pre class="chroma">     &lt;!-- 引入jedis的依赖包 --&gt;
    &lt;dependency&gt;  
      &lt;groupId&gt;redis.clients&lt;/groupId&gt;  
      &lt;artifactId&gt;jedis&lt;/artifactId&gt;  
      &lt;version&gt;2.9.3&lt;/version&gt;  
      &lt;type&gt;jar&lt;/type&gt;  
      &lt;scope&gt;compile&lt;/scope&gt;  
    &lt;/dependency&gt;   </pre></div>
<h2 id="1-3-jedis直连">1.3 jedis直连</h2>

<ol>
<li><p>生成一个Jedis对象，这个对象负责和指定Redis节点进行通信<br />
    Jedis jedis = new Jedis(&ldquo;127.0.0.1&rdquo;,6379);</p></li>

<li><p>jedis执行set操作<br />
    jedis.set(&ldquo;hello&rdquo;,&ldquo;world&rdquo;);</p></li>

<li><p>jedis执行get操作，value=&ldquo;world&rdquo;<br />
    String value = jedis.get(&ldquo;hello&rdquo;);</p></li>
</ol>

<div align=center><img src="https://fyzn12.github.io/img/picture/jedis-test.png"/></div>  
    

<h3 id="jedis构造函数的简单介绍">Jedis构造函数的简单介绍</h3>
<div class="highlight"><pre class="chroma">    Jedis构造方法的参数  
    Jedis(String host,int port,int connectionTimeout,int soTimeout);  
    host:Redis节点的所在机器的IP；  
    port：Redis节点的端口；  
    connectionTimeout：客户端连接超时；  
    soTimeout：客户端读写超时；    </pre></div>
<h2 id="1-4-jedis直连和连接池的对比">1.4 Jedis直连和连接池的对比</h2>

<div align=center><img src="https://fyzn12.github.io/img/picture/jedispool.png"/></div>   
 

<hr />

<h1 id="2-redis的具体实现">2 redis的具体实现</h1>

<h2 id="2-1-慢查询">2.1 慢查询</h2>

<ul>
<li>生命周期<br /></li>
<li>三个命令<br /></li>
<li>两个配置<br /></li>
<li>运维经验<br />
<br /></li>
</ul>

<h3 id="2-1-1-生命周期">2.1.1 生命周期</h3>

<div align=center><img src="https://fyzn12.github.io/img/picture/live-redis.png"/></div>      
  
<div class="highlight"><pre class="chroma">    两点说明：  
    （1）慢查询发生在第三阶段  
    （2）客户端超时不一定慢查询，但慢查询是客户端超时的一个可能因素</pre></div>
<h3 id="2-1-2-慢查询的两个配置">2.1.2 慢查询的两个配置</h3>

<h4 id="1-slowlog-log-slower-than">1. slowlog-log-slower-than</h4>
<div class="highlight"><pre class="chroma">    1. 慢查询阈值（单位：微秒）  
    2. slowlog-log-slower-than=0：记录所有命令    
    3. slowlog-log-slower-than&lt;0：不记录任何命令</pre></div>
<h4 id="2-slowlog-max-len">2. slowlog-max-len</h4>
<div class="highlight"><pre class="chroma">    1. 先进先出  
    2. 固定长度  
    3. 保存在内存中    </pre></div>
<h3 id="2-1-3-配置方法">2.1.3 配置方法</h3>

<h4 id="1-默认值">1. 默认值</h4>

<ul>
<li>config get slowlog-max-len = 128<br /></li>
<li>config get slowlog-log-slower-than = 10000（阈值）<br />
<br /></li>
</ul>

<h4 id="2-修改配置文件重启">2. 修改配置文件重启</h4>

<h4 id="3-动态配置">3. 动态配置</h4>

<ul>
<li>config set slowlog-max-len 1000<br /></li>
<li>config set slowlog-log-slower-than 1000<br />
<br /></li>
</ul>

<h3 id="2-1-4-慢查询的命令">2.1.4 慢查询的命令</h3>

<h4 id="1-slowlog-get-n-获取慢查询队列">1. slowlog get[n]:获取慢查询队列</h4>

<h4 id="2-slowlog-len-获取慢查询队列长度">2. slowlog len：获取慢查询队列长度</h4>

<h4 id="3-slowlog-reset-清空慢查询队列">3. slowlog reset：清空慢查询队列</h4>

<h3 id="2-1-5-慢查询的运维经验">2.1.5 慢查询的运维经验</h3>

<ol>
<li>slowlog-max-len不要设置过大，默认10ms，通常设置1ms。<br /></li>
<li>slowlog-log-slower-than不要设置过小，通常设置1000左右。<br /></li>
<li>理解命令生命周期。<br /></li>
<li>定期持久化慢查询。<br />
<br />
<br /></li>
</ol>

<hr />

<h1 id="3-springboot整合redis项目实战">3 SpringBoot整合Redis项目实战</h1>

<h2 id="3-1-创建分布式项目">3.1 创建分布式项目</h2>

<ul>
<li>项目结构图如下<br /></li>
<li><div align=center><img src="https://fyzn12.github.io/img/picture/springboot-redis.png"/></div><br />
<br /></li>
</ul>

<h3 id="3-1-1-parent导入的依赖">3.1.1 parent导入的依赖</h3>
<div class="highlight"><pre class="chroma">    &lt;dependencies&gt;

    &lt;!-- 配置web启动器--&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;
    &lt;/dependency&gt;
    &lt;!-- 配置mybatis--&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;mysql&lt;/groupId&gt;
        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
        &lt;version&gt;8.0.15&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.mybatis.spring.boot&lt;/groupId&gt;
        &lt;artifactId&gt;mybatis-spring-boot-starter&lt;/artifactId&gt;
        &lt;version&gt;1.2.0&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;!-- 配置数据库连接池 --&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;com.alibaba&lt;/groupId&gt;
        &lt;artifactId&gt;druid&lt;/artifactId&gt;
        &lt;version&gt;${druid.version}&lt;/version&gt;
    &lt;/dependency&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;
        &lt;scope&gt;test&lt;/scope&gt;
        &lt;exclusions&gt;
            &lt;exclusion&gt;
                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;
                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;
            &lt;/exclusion&gt;
        &lt;/exclusions&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;junit&lt;/groupId&gt;
        &lt;artifactId&gt;junit&lt;/artifactId&gt;
        &lt;version&gt;4.12&lt;/version&gt;
    &lt;/dependency&gt;

    &lt;dependency&gt;
        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;
        &lt;exclusions&gt; &lt;!--不依赖Redis的异步客户端lettuce--&gt;
            &lt;exclusion&gt;
                &lt;groupId&gt;io.lettuce&lt;/groupId&gt;
                &lt;artifactId&gt;lettuce-core&lt;/artifactId&gt;
            &lt;/exclusion&gt;
        &lt;/exclusions&gt;
    &lt;/dependency&gt;
    &lt;!--引入Redis的客户端驱动jedis--&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;redis.clients&lt;/groupId&gt;
        &lt;artifactId&gt;jedis&lt;/artifactId&gt;
    &lt;/dependency&gt;


    注意：parent的项目打包方式是pom，其他项目依赖于该项目  </pre></div>
<h3 id="3-1-2-创建springboot的配置文件application-properties">3.1.2 创建springboot的配置文件application.properties</h3>

<p>创建该文件需要注意一下几点<br />
* 关于springMVC、redis的配置文件必须根据全称去写如spring.mvc.view.suffix=.jsp不得随意更改=左边的值<br />
* 该文件必须存放于classpath下也就是resources根目录下<br />
* 命名为application.properties</p>

<h4 id="文件内容如下">文件内容如下</h4>
<div class="highlight"><pre class="chroma">                    # 配置视图解析
                    spring.mvc.view.prefix=/WEB-INF/views/
                    spring.mvc.view.suffix=.jsp

                    # 配置数据库连接参数
                    spring.datasource.driverClassName =com.mysql.cj.jdbc.Driver
                    spring.datasource.url=jdbc:mysql://localhost:3306/test?serverTimezone=GMT%2B8
                    spring.datasource.username=root
                    spring.datasource.password=123456
                    spring.datasource.type=com.alibaba.druid.pool.DruidDataSource
                    # 指定mapper文件的位置
                    mybatis.mapper-locations=classpath:mapper/*.xml

                    # 配置Jedis
                    #redis jedis配置
                    # Redis数据库索引（默认为0）
                    spring.redis.database=0
                    # Redis服务器地址
                    spring.redis.host=127.0.0.1
                    # Redis服务器连接端口
                    spring.redis.port=6379
                    # Redis服务器连接密码（默认为空）
                    #spring.redis.password=
                    # 连接池最大连接数（使用负值表示没有限制）
                    spring.redis.jedis.pool.max-active=5000
                    # 连接池最大阻塞等待时间（使用负值表示没有限制）
                    spring.redis.jedis.pool.max-wait=-1
                    # 连接池中的最大空闲连接
                    spring.redis.jedis.pool.max-idle=8
                    # 连接池中的最小空闲连接
                    spring.redis.jedis.pool.min-idle=0
                    # 连接超时时间（毫秒）
                    spring.redis.timeout=1000
                    #spring-session 使用
                    spring.session.store-type=none

                    # 定义存放图片的key
                    redis.key=bigImg

                    # 配置静态资源放行
                    spring.resources.static-locations=classpath*:/static/    </pre></div>
<hr />

<h2 id="3-2-创建redis的连接类redisconfig-java">3.2 创建Redis的连接类RedisConfig.java</h2>

<p>在创建该类时需要了解以下几点<br />
1. @EnableCaching的作用：开启缓存注解；
2. Cacheable作用：把方法的返回值添加到Ehcache中做缓存Value属性：指定一个Ehcache配置文件中的缓存策略，如果么有给定value，name则表示使用默认的缓存策略。<br />
3. @CacheEvict作用：清除缓存<br />
4. @Configuration：具体作用请看博客：<a href="https://www.cnblogs.com/duanxz/p/7493276.html">@Configuration详解</a></p>

<ol>
<li>在SpringBoot2.x之后的版本中官网推荐使用的是lettuce连接池整合Redis，并且删除了一些整合Jedis的方法，因此这里使用Jedis整合Redis时需要重写这些方法，如CacheManager cacheManager(RedisConnectionFactory connectionFactory)方法。<br />
<br /></li>
</ol>

<h3 id="3-2-1-创建该类的内容如下">3.2.1 创建该类的内容如下</h3>
<div class="highlight"><pre class="chroma">            /**
             * @author fyzn12
             * @version 1.0
             * @date 2020/7/10 9:35
             * @description:TODO
             */
            @Configuration
            @EnableCaching
            public class RedisConfig {

                @Bean
                    //如使用注解的话需要配置cacheManager
                    //此处为与1.x最大的不同
                CacheManager cacheManager(RedisConnectionFactory connectionFactory) {
                    //初始化一个RedisCacheWriter
                    RedisCacheWriter redisCacheWriter = RedisCacheWriter.nonLockingRedisCacheWriter(connectionFactory);
                    RedisCacheConfiguration defaultCacheConfig = RedisCacheConfiguration.defaultCacheConfig();
                    //设置默认超过期时间是1天
                    defaultCacheConfig.entryTtl(Duration.ofDays(1));
                    //初始化RedisCacheManager
                    RedisCacheManager cacheManager = new RedisCacheManager(redisCacheWriter, defaultCacheConfig);
                    return cacheManager;
                }

                // 以下两种redisTemplate自由根据场景选择
                @Bean
                public RedisTemplate&lt;Object, Object&gt; redisTemplate(RedisConnectionFactory connectionFactory) {
                    RedisTemplate&lt;Object, Object&gt; template = new RedisTemplate&lt;&gt;();
                    template.setConnectionFactory(connectionFactory);

                    //使用Jackson2JsonRedisSerializer来序列化和反序列化redis的value值（默认使用JDK的序列化方式）
                    Jackson2JsonRedisSerializer serializer = new Jackson2JsonRedisSerializer(Object.class);

                    ObjectMapper mapper = new ObjectMapper();
                    mapper.setVisibility(PropertyAccessor.ALL, JsonAutoDetect.Visibility.ANY);
                    mapper.enableDefaultTyping(ObjectMapper.DefaultTyping.NON_FINAL);
                    serializer.setObjectMapper(mapper);

                    template.setValueSerializer(serializer);
                    //使用StringRedisSerializer来序列化和反序列化redis的key值
                    template.setKeySerializer(new StringRedisSerializer());
                    template.afterPropertiesSet();
                    return template;
                }

                @Bean
                public StringRedisTemplate stringRedisTemplate(RedisConnectionFactory factory) {
                    StringRedisTemplate stringRedisTemplate = new StringRedisTemplate();
                    stringRedisTemplate.setConnectionFactory(factory);
                    return stringRedisTemplate;
                }
            }   </pre></div>
<h3 id="3-2-2-创建测试类">3.2.2 创建测试类</h3>
<div class="highlight"><pre class="chroma">        /**
         * @author fyzn12
         * @version 1.0
         * @date 2020/7/10 12:25
         * @description:TODO
         */


        @RunWith(SpringRunner.class)
        @SpringBootTest
        public class RedisTest {

            Logger log = LoggerFactory.getLogger(RedisTest.class);
            @Autowired
            RedisTemplate redisTemplate;
            @Test
            public void contextLoads() {
                //这里相当于redis对String类型的set操作
                redisTemplate.opsForValue().set(&#34;test&#34;,&#34;helloworld&#34;);
                //这里相当于redis对String类型的get操作
                String test = (String)redisTemplate.opsForValue().get(&#34;test&#34;);
                System.out.println(test);
            }
        }  </pre></div>
<hr />

<h2 id="3-3-项目运行过程中遇到的bug总结">3.3 项目运行过程中遇到的bug总结</h2>

<h3 id="3-3-1-springboot创建分布式项目时-前端访问页面显示下图">3.3.1 springboot创建分布式项目时，前端访问页面显示下图</h3>

<div align=center><img src="https://fyzn12.github.io/img/picture/springboot-error1.png"/></div>   
  

<h4 id="分析上图中的error如下讨论">分析上图中的error如下讨论</h4>

<ul>
<li><p>产生404错误的原因有<br />
    1. 配置的视图解析没有工作；但在该图中，很明显视图解析到了/WEB-INF/views/下，说明视图解析已经成功。<br />
    2. 文件的访问路径与控制器的路径不匹配（在上图中也可以排除）<br />
    3. springboot的启动器没有包含controller，或者与controller处于同级目录；</p></li>

<li><p>以上几种原因在该项目中很明显都不是。</p></li>
</ul>

<h4 id="产生这个原因是因为分布式项目在解析控制器路径时产生的问题-具体原因我也尚未弄清楚-但目前知道有两种方式可以解决">产生这个原因是因为分布式项目在解析控制器路径时产生的问题，具体原因我也尚未弄清楚，但目前知道有两种方式可以解决</h4>

<h5 id="方法一">方法一：</h5>

<ul>
<li>1. 找到项目右侧的 Maven，如图所示<br /></li>
<li><div align=center><img src="https://fyzn12.github.io/img/picture/position-maven.png"/></div><br /></li>
<li>2. 点检Maven之后展开项目，在Plugins下会找到一个spring-boot，将其展开，选择下面的spring-boot：run启动项目<br />
<br /></li>
</ul>

<h5 id="方法二">方法二：</h5>

<p>改变springboot的启动器的配置<br />
1. 选择Edit Configurations 找到Environment，如下图所示
<div align=center><img src="https://fyzn12.github.io/img/picture/edit-configuration1.png"/></div></p>

<ol>
<li>展开Environment之后，选择下面的Working directory，并在其右侧输入： $MODULE_WORKING_DIR$<br /></li>
<li>保存点击ok，再次启动项目，访问即可成功



<br />





<br />

<br /></li>
</ol>

    </article>

    
    <div class="prevnext">
        



<ul class="prevnext">
    
    <li>上一篇：
        <a href="https://fyzn12.github.io/post/database/database/">
            数据库易忘知识点总结
        </a>
    </li>
    
    
    <li>下一篇：
        <a href="https://fyzn12.github.io/post/spring-boot/spring-data/">
            Spring Boot整合Spring Data JPA
        </a>
    </li>
    
</ul>

    </div>
    
    <div class="post-comments">
        
  
  

  
    <script src="https://utteranc.es/client.js"
            repo="fyzn12/Y4er.com"
            issue-term="pathname"
            theme="github-light"
            crossorigin="anonymous"
            async>
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/utterance">comments powered by utterances.</a></noscript>

    </div>
</div>
            </div>
            
            <div class="col-second">
                <div class="col-box col-box-author">
    <img class="avatar" src="https://fyzn12.github.io/images/header.jpg" alt="fyzn12">
    <div class="col-box-title name">fyzn12</div>
    <p>哀吾生之须臾,羡长江之无穷.</p>
    <p class="contact">
        <a href="fyzn12_z@163.com">Email</a>
        <a href="https://fyzn12.github.io">Github</a>
    </p>
</div>

<div class="col-box">
    <div class="col-box-title">Newest Posts</div>
    <ul class="post-list">
        
        <li>
            <a href="https://fyzn12.github.io/about/" class="post-link">About</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/elk/filebeat/" class="post-link">FileBeat</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/spring-boot/redis%E9%99%90%E6%B5%81%E7%BB%93%E5%90%88kafka%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91%E6%8A%A2%E5%8D%95/" class="post-link">Redis结合kafka实现高并发抢单</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/spring-boot/componentscan%E6%B3%A8%E8%A7%A3%E5%AF%BC%E8%87%B4controller%E5%A4%B1%E6%95%88/" class="post-link">SpringBoot使用@ComponentScan的Controller失效原因分析 </a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/database/mysql%E7%9A%84%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/" class="post-link">Mysql的存储引擎</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/java%E5%9F%BA%E7%A1%80/synchronizedmap%E5%A6%82%E4%BD%95%E8%AE%A9hashmap%E5%85%B7%E5%A4%87%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/" class="post-link">SynchronizedMap如何让HashMap具备线程安全</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/java%E5%9F%BA%E7%A1%80/%E4%B8%A4%E4%B8%AA%E9%93%BE%E8%A1%A8%E7%9A%84%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%85%AC%E5%85%B1%E8%8A%82%E7%82%B9/" class="post-link">两个链表的第一个公共节点</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E4%BA%8C%E7%BB%B4%E6%95%B0%E7%BB%84%E4%B8%AD%E7%94%B11%E6%9E%84%E6%88%90%E7%9A%84%E6%9C%80%E5%A4%A7%E6%AD%A3%E6%96%B9%E5%BD%A2/" class="post-link">二维数组中由1构成的最大正方形</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E9%93%BE%E8%A1%A8%E6%B1%82%E5%92%8C%E5%8F%8A%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B1%82%E5%92%8C/" class="post-link">链表求和及字符串求和</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E4%BA%8C%E5%8F%89%E6%A0%91%E6%A0%B9%E8%8A%82%E7%82%B9%E5%88%B0%E5%8F%B6%E5%AD%90%E8%8A%82%E7%82%B9%E5%92%8C%E4%B8%BA%E6%8C%87%E5%AE%9A%E5%80%BC%E7%9A%84%E8%B7%AF%E5%BE%84%E9%9B%86%E9%97%AE%E9%A2%98/" class="post-link">二叉树根节点到叶子节点和为指定值的路径集问题</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E7%9F%A9%E9%98%B5%E7%9A%84%E6%9C%80%E5%B0%8F%E8%B7%AF%E8%B7%AF%E5%BE%84/" class="post-link">矩阵的最小路路径</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E4%B9%8B%E5%AD%97%E5%9E%8B%E5%B1%82%E6%AC%A1%E9%81%8D%E5%8E%86/" class="post-link">二叉树的之字型层次遍历</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E4%BA%8C%E8%BF%9B%E5%88%B6%E4%B8%AD1%E7%9A%84%E4%B8%AA%E6%95%B0/" class="post-link">二进制中1的个数</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E5%AD%97%E7%AC%A6%E8%BD%AC%E7%9A%84%E5%8F%98%E5%BD%A2/" class="post-link">字符串变形</a>
        </li>
        
        <li>
            <a href="https://fyzn12.github.io/post/algorithm/%E4%BA%8C%E5%88%86%E6%B3%95%E7%9A%84%E9%AB%98%E6%95%88%E8%8E%B7%E5%8F%96/" class="post-link">二分法使用无符号位右移运算求解上中位数</a>
        </li>
        
    </ul>
</div>

<div class="col-box post-toc hide">
    <div class="col-box-title">TOC</div>
</div>
            </div>
        </div>
    </div>
    
    <footer class="footer">
        <div class="wrapper">
    © 2021    <a href="https://fyzn12.github.io/">fyzn12</a>
</div>
    </footer>
    
    
<script src="https://cdn.jsdelivr.net/npm/jquery@1.11.0/dist/jquery.min.js"></script>

<script src="/js/easybook.js"></script>

<script src="/js/lazysizes.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.12/dist/js/lightgallery-all.min.js"></script>
<script src="/js/figure.js"></script>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-XXXXXXXX-X', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>






</body>

</html>